- toggle_classes = local_assigns.fetch(:toggle_classes, '')

= f.hidden_field(:name)

= dropdown_tag('Select branch or create wildcard',
               options: { toggle_class: "js-protected-branch-select js-filter-submit wide monospace qa-protected-branch-select #{toggle_classes}",
                          filter: true,
                          dropdown_class: "dropdown-menu-selectable git-revision-dropdown qa-protected-branch-dropdown",
                          placeholder: "Search protected branches",
                          footer_content: true,
                          data: { show_no: true, show_any: true, show_upcoming: true,
                                  selected: params[:protected_branch_name],
                                  project_id: @project.try(:id) } }) do

  %ul.dropdown-footer-list
    %li
      %button{ class: "dropdown-create-new-item-button js-dropdown-create-new-item", title: "New Protected Branch" }
        Create wildcard
        %code
